<script setup lang="ts">
import { ref, onMounted } from 'vue'
import { api } from './api'
import { useRouter } from 'vue-router'
import { useUserStore } from './stores/userStore';
import type { User} from "./types";

const router = useRouter()
const userStore = useUserStore()

async function logout(){
    console.log('foi')
    try{
        api.get('/logout')
        userStore.logout()
        router.push('/login');
    } catch (e) {
        console.error(e)
    }
}
</script>

<template>

    <div id="nav-bar-container">
            <nav id="nav-bar">

                <a href="/artworks" >

                <svg id="camada_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 318.29 73.69">
                <g>
                    <path d="M20.6,53.73c-2.15-.89-4.14-2.05-5.99-3.49l-.66-4.28c-.07-.37,0-.68.2-.93s.46-.38.78-.41c.32-.01.63.11.93.38,2.35,2.18,4.85,3.94,7.5,5.28,2.65,1.34,5.08,2.01,7.29,2.01,1.61,0,2.86-.38,3.77-1.13s1.36-1.79,1.36-3.1c0-1.21-.37-2.31-1.1-3.32-.74-1.01-1.73-1.96-2.97-2.86-1.24-.91-3.1-2.15-5.58-3.72-2.68-1.75-4.77-3.28-6.26-4.6-1.5-1.33-2.55-2.55-3.17-3.68-.62-1.12-.93-2.32-.93-3.6s.37-2.54,1.1-3.7c.74-1.16,1.86-2.1,3.37-2.84s3.39-1.1,5.63-1.1c1.61,0,3.24.21,4.88.63s3.2,1,4.68,1.73l.6,3.98c.07.37,0,.68-.17.93s-.43.38-.75.41-.61-.09-.88-.33c-2.01-1.58-4.14-2.86-6.37-3.87-2.23-1.01-4.15-1.51-5.76-1.51-1.31,0-2.35.31-3.12.93-.77.62-1.16,1.43-1.16,2.44,0,1.28.76,2.67,2.29,4.18,1.52,1.51,3.9,3.26,7.12,5.23,2.65,1.64,4.71,3.11,6.19,4.4,1.47,1.29,2.52,2.52,3.12,3.7.6,1.17.91,2.47.91,3.87,0,1.88-.41,3.56-1.23,5.03-.82,1.47-2.01,2.63-3.55,3.44-1.54.82-3.37,1.23-5.49,1.23-2.25,0-4.44-.45-6.59-1.33h0Z" style="fill: #fffaf0;"/>
                    <path d="M43.14,53.3c-.84-1.17-1.24-3.05-1.21-5.63l.05-17.51h-2.22v-.66l6.24-6.79v6.29h10.06v1.16h-10.06v19.27c0,1.75.13,2.94.38,3.6s.64.98,1.18.98c.74,0,1.65-.54,2.74-1.61,1.09-1.08,2.22-2.55,3.4-4.43.17-.3.41-.49.71-.55.3-.07.57,0,.8.2.24.2.35.49.35.85v3.87c-1.17.71-2.56,1.33-4.18,1.89-1.61.55-3.09.83-4.43.83-1.71,0-2.98-.59-3.82-1.76h.01Z" style="fill: #fffaf0;"/>
                    <path d="M62.06,52.7c-1.34-1.58-2.01-4.07-2.01-7.5v-16.2h4.12v16.45c0,2.45.43,4.21,1.29,5.28.85,1.08,2.04,1.61,3.55,1.61,1.21,0,2.47-.39,3.77-1.18s2.8-2.07,4.48-3.85v1.01c-1.75,2.22-3.47,3.89-5.16,5-1.69,1.12-3.38,1.68-5.06,1.68-1.98.03-3.64-.73-4.98-2.31h0ZM67.24,26.13l4.58-6.69,2.47-.05c.43,0,.76.13.98.41.22.27.3.57.25.91-.05.34-.28.62-.68.85-2.28,1.34-4.58,2.93-6.89,4.78l-.71-.2h0ZM76.5,48.07v-19.07h4.12v18.41l1.1,7.04h-4.12l-1.1-6.39h0Z" style="fill: #fffaf0;"/>
                    <path d="M90.63,53.4c-1.51-1.04-2.69-2.47-3.55-4.28-.85-1.81-1.29-3.86-1.29-6.14-.03-2.65.46-5.09,1.48-7.32,1.02-2.23,2.42-4,4.18-5.31,1.76-1.31,3.65-1.96,5.66-1.96,1.14,0,2.24.21,3.32.63s2.04,1.1,2.89,2.04c.85.94,1.48,2.17,1.89,3.68l-.75.55v-15.69l4.07-.66v28.73l1.1,6.79h-4.07l-1.1-5.79v-7.34c0-2.05-.39-3.95-1.18-5.71-.79-1.76-1.84-3.16-3.17-4.2-1.33-1.04-2.76-1.56-4.3-1.56-1.94,0-3.47.89-4.58,2.67-1.1,1.77-1.66,3.99-1.66,6.64.03,2.01.36,4.03.98,6.07.62,2.03,1.57,3.73,2.84,5.11,1.27,1.38,2.84,2.06,4.68,2.06,1.14,0,2.26-.32,3.35-.96s2.17-1.76,3.24-3.37l.2.96c-1.17,1.98-2.55,3.47-4.12,4.45-1.58.99-3.24,1.48-4.98,1.48-1.91,0-3.62-.52-5.13-1.56h0Z" style="fill: #fffaf0;"/>
                    <path d="M115.74,23.97c-.47-.41-.68-.92-.66-1.56,0-.67.23-1.23.71-1.68.47-.45,1.08-.68,1.81-.68s1.29.2,1.73.6c.45.41.68.94.68,1.61s-.24,1.18-.73,1.64c-.49.45-1.1.68-1.84.68-.67,0-1.24-.2-1.71-.6h0ZM115.49,29h4.07v25.46h-4.07v-25.46Z" style="fill: #fffaf0;"/>
                    <path d="M130.2,53.42c-1.8-1.09-3.19-2.59-4.2-4.5-1.01-1.91-1.51-4.06-1.51-6.44,0-2.55.57-4.9,1.71-7.04,1.14-2.15,2.69-3.86,4.65-5.13s4.14-1.91,6.51-1.91c2.18,0,4.15.55,5.91,1.64s3.14,2.61,4.15,4.58,1.51,4.2,1.51,6.71-.55,4.92-1.64,7.02c-1.09,2.1-2.59,3.74-4.5,4.93-1.91,1.19-4.06,1.79-6.44,1.79s-4.37-.55-6.16-1.64h0ZM142.93,51.99c1.02-.67,1.81-1.6,2.36-2.8.55-1.19.83-2.52.83-4,0-2.18-.57-4.41-1.71-6.69-1.14-2.28-2.63-4.16-4.48-5.66-1.84-1.49-3.74-2.24-5.69-2.24-1.34,0-2.52.34-3.55,1.01-1.02.67-1.82,1.59-2.39,2.77s-.85,2.52-.85,4.02c0,2.22.58,4.46,1.73,6.74,1.16,2.28,2.66,4.16,4.5,5.63s3.76,2.22,5.74,2.22c1.31,0,2.47-.34,3.49-1.01h.01Z" style="fill: #fffaf0;"/>
                </g>
                <g>
                    <path d="M172.43,52.79c-2.47-1.51-4.39-3.58-5.76-6.21-1.38-2.63-2.06-5.59-2.06-8.88,0-3.49.79-6.69,2.36-9.61,1.57-2.92,3.72-5.23,6.41-6.92,2.7-1.69,5.71-2.54,9.03-2.54,1.88,0,3.7.28,5.49.83s3.26,1.3,4.43,2.24l.71,4.48c.07.43-.02.8-.25,1.1-.24.3-.53.45-.88.43-.35-.01-.68-.17-.98-.48-1.91-2.08-3.89-3.64-5.91-4.68-2.03-1.04-4.07-1.56-6.11-1.56-2.22,0-4.16.56-5.86,1.68-1.69,1.12-3,2.65-3.93,4.58-.92,1.93-1.38,4.12-1.38,6.57,0,3.02.66,5.87,1.98,8.55,1.33,2.68,3.18,4.84,5.56,6.46,2.38,1.63,5.11,2.44,8.2,2.44,1.81-.03,3.57-.34,5.28-.93s3.24-1.45,4.58-2.59l.55.55c-1.68,2.11-3.57,3.77-5.69,4.95-2.11,1.19-4.58,1.79-7.39,1.79-3.12,0-5.91-.75-8.38-2.26h0Z" style="fill: #fffaf0;"/>
                    <path d="M197.51,53.25c-1.17-1.14-1.76-2.56-1.76-4.28,0-1.27.39-2.44,1.18-3.49s1.81-2.01,3.07-2.84,2.88-1.75,4.86-2.72l1.56-.75,6.19-2.92v1.16l-6.54,3.12c-1.77.84-3.26,1.8-4.45,2.86-1.19,1.08-1.79,2.35-1.79,3.82,0,1.28.47,2.35,1.41,3.24.94.89,2.18,1.33,3.72,1.33,1.34,0,2.63-.36,3.85-1.08s2.26-1.67,3.1-2.84l.45.5c-1.24,1.94-2.67,3.53-4.28,4.75s-3.51,1.84-5.69,1.84-3.7-.57-4.88-1.71h0ZM211.59,48.62v-12.88c0-2.05-.22-3.61-.66-4.7-.43-1.09-1.24-1.64-2.42-1.64-.97,0-2.19.49-3.68,1.46-1.47.97-3.07,2.42-4.78,4.33-.3.34-.64.51-1.01.53-.37.01-.66-.13-.88-.43s-.29-.67-.22-1.1l.55-3.32c1.21-.6,2.73-1.17,4.58-1.68s3.47-.78,4.88-.78c2.61,0,4.57.8,5.86,2.42,1.29,1.61,1.94,4.06,1.94,7.34l-.05,9.91,1.16,6.39h-4.18l-1.1-5.83h0Z" style="fill: #fffaf0;"/>
                    <path d="M225.32,54.13c-1.68-.62-3.14-1.35-4.37-2.19l-.6-3.62c-.03-.37.03-.67.2-.91.17-.23.41-.36.71-.38.3-.01.59.09.85.33,1.77,1.58,3.72,2.89,5.83,3.95s3.98,1.59,5.58,1.59c1.1,0,2.01-.27,2.72-.8s1.06-1.26,1.06-2.17c0-.74-.27-1.43-.8-2.09s-1.37-1.36-2.49-2.11c-1.12-.75-2.74-1.73-4.86-2.94-1.75-1.01-3.14-1.88-4.2-2.61s-1.91-1.57-2.56-2.52c-.66-.94-.98-2.01-.98-3.22,0-1.75.71-3.19,2.14-4.33s3.43-1.71,6.01-1.71c2.22,0,4.65.47,7.29,1.41l.45,3.02c.07.47.01.84-.15,1.1-.17.27-.42.41-.75.41s-.67-.13-1.01-.41c-1.51-1.17-3-2.14-4.48-2.89-1.47-.75-2.82-1.13-4.02-1.13-1.04,0-1.87.24-2.49.71-.62.47-.93,1.08-.93,1.81,0,1.08.62,2.11,1.86,3.12,1.24,1.01,2.98,2.11,5.23,3.32,2.95,1.61,5.06,3.1,6.32,4.45s1.89,2.94,1.89,4.75c0,2.11-.72,3.81-2.17,5.08-1.44,1.28-3.44,1.91-5.99,1.91-1.84,0-3.61-.31-5.28-.93h0Z" style="fill: #fffaf0;"/>
                    <path d="M245.15,52.7c-1.34-1.58-2.01-4.07-2.01-7.5v-16.2h4.12v16.45c0,2.45.43,4.21,1.29,5.28.85,1.08,2.04,1.61,3.55,1.61,1.21,0,2.47-.39,3.77-1.18s2.8-2.07,4.48-3.85v1.01c-1.75,2.22-3.47,3.89-5.16,5-1.69,1.12-3.38,1.68-5.06,1.68-1.98.03-3.64-.73-4.98-2.31h0ZM259.58,48.07v-19.07h4.12v18.41l1.1,7.04h-4.12l-1.1-6.39h0Z" style="fill: #fffaf0;"/>
                    <path d="M270.8,19.59l4.07-.71v35.57h-4.07V19.58h0Z" style="fill: #fffaf0;"/>
                    <path d="M285.62,53.42c-1.8-1.09-3.19-2.59-4.2-4.5-1.01-1.91-1.51-4.06-1.51-6.44,0-2.55.57-4.9,1.71-7.04,1.14-2.15,2.69-3.86,4.65-5.13s4.14-1.91,6.51-1.91c2.18,0,4.15.55,5.91,1.64s3.14,2.61,4.15,4.58,1.51,4.2,1.51,6.71-.55,4.92-1.64,7.02-2.59,3.74-4.5,4.93-4.06,1.79-6.44,1.79-4.37-.55-6.16-1.64ZM298.35,51.99c1.02-.67,1.81-1.6,2.36-2.8.55-1.19.83-2.52.83-4,0-2.18-.57-4.41-1.71-6.69-1.14-2.28-2.63-4.16-4.48-5.66-1.84-1.49-3.74-2.24-5.69-2.24-1.34,0-2.52.34-3.55,1.01-1.02.67-1.82,1.59-2.39,2.77s-.85,2.52-.85,4.02c0,2.22.58,4.46,1.73,6.74,1.16,2.28,2.66,4.16,4.5,5.63s3.76,2.22,5.74,2.22c1.31,0,2.47-.34,3.49-1.01h.01Z" style="fill: #fffaf0;"/>
                </g>
                </svg>
                </a>
                    <ul id="portfolio-links">

                        <li>
                            <a href="/about">Os Artistas</a>
                        </li>
                        
                        <li>
                            <a href="/manage">Gerenciar</a>
                        </li>

                    </ul>

                    <ul id="user-details">

                        <li>
                            <a class="user-profile-link">
                                <div class="user-profile-img">
                                    <img/>
                                </div>
                                <a>Meus dados</a>
                                <a @click="logout">Sair</a>
                            </a>
                        </li>

                    </ul>

            </nav>
        </div>

    <RouterView></RouterView>

</template>

<style scoped>

#portfolio-links{
    margin-left: 20px;
    margin-top: 20px;
    display: flex;
    justify-content: flex-end;
    list-style-type: none;
    margin-right: 30px;
}

#camada_1{
    margin-top: 5px;
    height: 45px;
    width: auto;
}

</style>
